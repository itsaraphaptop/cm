<div class="row">
<?php if ($flagcostcode[0]['costlevel']=="1") {?>
    <div id="tabcost1<?php echo $n;?>" class="col-xs-6">
        <h4>Costcode 1 </h4>
        <input type="text" class="form-control input-sm" id="cost1s<?php echo $n;?>" placeholder="ค้นหาโดยรหัส">
         <p></p>
        <select multiple class="form-control" id="cost1<?php echo $n;?>" style="height:150px;">
        </select>
    </div>
<?php }elseif($flagcostcode[0]['costlevel']=="2") {?>
  <div id="tabcost1<?php echo $n;?>" class="col-xs-6">
        <h4>Costcode 1 </h4>
        <input type="text" class="form-control input-sm" id="cost1s<?php echo $n;?>" placeholder="ค้นหาโดยรหัส">
         <p></p>
        <select multiple class="form-control" id="cost1<?php echo $n;?>" style="height:150px;">
        </select>
    </div>
    <div id="tabcost2<?php echo $n;?>" class="col-xs-6">
         <h4>Costcode 2</h4>
         <input type="text" class="form-control input-sm" id="cost2s<?php echo $n;?>" placeholder="ค้นหาโดยรหัส">
          <p></p>
         <select multiple class="form-control" id="cost2<?php echo $n;?>" style="height:150px;"></select>

    </div>
<?php }elseif($flagcostcode[0]['costlevel']=="3") {?>
    <div id="tabcost1<?php echo $n;?>" class="col-xs-6">
        <h4>Costcode 1 </h4>
        <input type="text" class="form-control input-sm" id="cost1s<?php echo $n;?>" placeholder="ค้นหาโดยรหัส">
         <p></p>
        <select multiple class="form-control" id="cost1<?php echo $n;?>" style="height:150px;">
        </select>
    </div>
    <div id="tabcost2<?php echo $n;?>" class="col-xs-6">
         <h4>Costcode 2</h4>
         <input type="text" class="form-control input-sm" id="cost2s<?php echo $n;?>" placeholder="ค้นหาโดยรหัส">
          <p></p>
         <select multiple class="form-control" id="cost2<?php echo $n;?>" style="height:150px;"></select>

    </div>
    <div id="tabcost3<?php echo $n;?>" class="col-xs-6">
         <h4>Costcode 3</h4>
       
          <input type="text" class="form-control input-sm" id="cost3s<?php echo $n;?>" placeholder="ค้นหาโดยรหัส">
         <p></p>
        <select multiple class="form-control" id="cost3<?php echo $n;?>" style="height:150px;">
            </select>
    </div>
<?php }elseif($flagcostcode[0]['costlevel']=="4") {?>
    <div id="tabcost1<?php echo $n;?>" class="col-xs-6">
        <h4>Costcode 1 </h4>
        <input type="text" class="form-control input-sm" id="cost1s<?php echo $n;?>" placeholder="ค้นหาโดยรหัส">
         <p></p>
        <select multiple class="form-control" id="cost1<?php echo $n;?>" style="height:150px;">
        </select>
    </div>
    <div id="tabcost2<?php echo $n;?>" class="col-xs-6">
         <h4>Costcode 2</h4>
         <input type="text" class="form-control input-sm" id="cost2s<?php echo $n;?>" placeholder="ค้นหาโดยรหัส">
          <p></p>
         <select multiple class="form-control" id="cost2<?php echo $n;?>" style="height:150px;"></select>

    </div>
    <div id="tabcost3<?php echo $n;?>" class="col-xs-6">
         <h4>Costcode 3</h4>
       
          <input type="text" class="form-control input-sm" id="cost3s<?php echo $n;?>" placeholder="ค้นหาโดยรหัส">
         <p></p>
        <select multiple class="form-control" id="cost3<?php echo $n;?>" style="height:150px;">
            </select>
    </div>
    <div id="tabcost4<?php echo $n;?>" class="col-xs-6">
         <h4>Costcode 4</h4>
         <input type="text" class="form-control input-sm" id="cost4s<?php echo $n;?>" placeholder="ค้นหาโดยรหัส">
         <p></p>
        <select multiple class="form-control" id="cost4<?php echo $n;?>" style="height:150px;">
        </select>

    </div>
<?php }elseif($flagcostcode[0]['costlevel']=="5") {?>
    <div id="tabcost1<?php echo $n;?>" class="col-xs-6">
        <h4>Costcode 1 </h4>
        <input type="text" class="form-control input-sm" id="cost1s<?php echo $n;?>" placeholder="ค้นหาโดยรหัส">
         <p></p>
        <select multiple class="form-control" id="cost1<?php echo $n;?>" style="height:150px;">
        </select>
    </div>
    <div id="tabcost2<?php echo $n;?>" class="col-xs-6">
         <h4>Costcode 2</h4>
         <input type="text" class="form-control input-sm" id="cost2s<?php echo $n;?>" placeholder="ค้นหาโดยรหัส">
          <p></p>
         <select multiple class="form-control" id="cost2<?php echo $n;?>" style="height:150px;"></select>

    </div>
    <div id="tabcost3<?php echo $n;?>" class="col-xs-6">
         <h4>Costcode 3</h4>
       
          <input type="text" class="form-control input-sm" id="cost3s<?php echo $n;?>" placeholder="ค้นหาโดยรหัส">
         <p></p>
        <select multiple class="form-control" id="cost3<?php echo $n;?>" style="height:150px;">
            </select>
    </div>
    <div id="tabcost4<?php echo $n;?>" class="col-xs-6">
         <h4>Costcode 4</h4>
         <input type="text" class="form-control input-sm" id="cost4s<?php echo $n;?>" placeholder="ค้นหาโดยรหัส">
         <p></p>
        <select multiple class="form-control" id="cost4<?php echo $n;?>" style="height:150px;">
        </select>

    </div>
    <div id="tabcost5<?php echo $n;?>" class="col-xs-6">
         <h4>Costcode 5</h4>
         <input type="text" class="form-control input-sm" id="cost5s<?php echo $n;?>" placeholder="ค้นหาโดยรหัส">
         <p></p>
        <select multiple class="form-control" id="cost5<?php echo $n;?>" style="height:150px;">
        </select>

     </div>
<?php } ?>
    <div id="tabcost4<?php echo $n;?>" class="col-xs-4">
         <h4>Costcode</h4>
        <p></p>
      <input type="text" class="form-control input-sm" readonly name="costcodetext<?php echo $n; ?>" id="costcodetext<?php echo $n; ?>">
    </div>


    <div id="cost-control<?php echo $n;?>" class="col-xs-12">
        <hr>

            <div class="row" style="margin-top:10px;">
                <div class="col-xs-12">
               
            <button class="btn btn-primary" style="float:right;" data-dismiss="modal" id="btncostupppp<?php echo $n;?>">SELECT</button>
            </div>
        </div>
    </div>

</div>

<script type="text/javascript" src="<?php echo base_url(); ?>assets/js/core/libraries/jquery.min.js"></script>
<script type="text/javascript" src="<?php echo base_url(); ?>assets/js/core/libraries/bootstrap.min.js"></script>
<script>
//   $(document).ready(function() {
$(".addboxpri<?php echo $n;?>").hide();
$("#editpo<?php echo $n;?>").hide();
$("#adddetail<?php echo $n;?>").hide();
$(".print<?php echo $n;?>").hide();
// $('#newmatname<?php echo $n;?>').prop('disabled', true);
// $("#taxv<?php echo $n;?>").val('0');


    $("#codeup<?php echo $n;?>").click(function(){});
     $("#gencodebtn<?php echo $n;?>").hide();
     $("#type2<?php echo $n;?>").hide();
     $("#type3<?php echo $n;?>").hide();
     $("#type4<?php echo $n;?>").hide();
     $("#type5<?php echo $n;?>").hide();
     $('#cost-control<?php echo $n;?>').hide();
     // $("#cost4<?php echo $n;?>").hide();
     $("#box6<?php echo $n;?>").hide();


     $('#gencode<?php echo $n;?>').on('hidden.bs.modal', function () {
     $("#type1<?php echo $n;?>").show();
     $("#type2<?php echo $n;?>").hide();
     $("#type3<?php echo $n;?>").hide();
     $("#type4<?php echo $n;?>").hide();
     $("#type5<?php echo $n;?>").hide();

     $("#gencodebtn<?php echo $n;?>").hide();


     });


     $('#box1<?php echo $n;?>').load('<?php echo base_url('index.php/materialcode/get_type');?>');
     $( "#box1<?php echo $n;?>" ).change(function() {
           var b1 = $('#box1<?php echo $n;?>').val();
           $('#box2<?php echo $n;?>').load('<?php echo base_url('index.php/materialcode/get_group/');?>'+'/'+b1);

         $("#type2<?php echo $n;?>").show();
         $('#vgencode<?php echo $n;?>').html('');
         $("#costcodetext<?php echo $n; ?>").val(b1);
    });
    $( "#box1<?php echo $n;?>" ).click(function() {
           var b1 = $('#box1<?php echo $n;?>').val();
           $('#box2<?php echo $n;?>').load('<?php echo base_url('index.php/materialcode/get_group/');?>'+'/'+b1);

         $("#type2<?php echo $n;?>").show();
          $('#vgencode<?php echo $n;?>').html('');
          $("#costcodetext<?php echo $n; ?>").val(b1);

    });
    $( "#box2<?php echo $n;?>" ).change(function() {
         $("#type1").hide();
         var b1 = $('#box1<?php echo $n;?>').val();
         var b2 = $('#box2<?php echo $n;?>').val();
         $('#box3<?php echo $n;?>').load('<?php echo base_url('index.php/materialcode/get_subgroup/');?>'+'/'+b1+'/'+b2);
         $("#type3<?php echo $n;?>").show();
    });
    $( "#box3<?php echo $n;?>" ).change(function() {
        var b1 = $('#box1<?php echo $n;?>').val();
         var b2 = $('#box2<?php echo $n;?>').val();
         var b3 = $('#box3<?php echo $n;?>').val();
         $('#box4<?php echo $n;?>').load('<?php echo base_url('index.php/materialcode/get_product/');?>'+'/'+b1+'/'+b2+'/'+b3);
         //$('#box5').load('<?php echo base_url('index.php/materialcode/get_productname/');?>'+'/'+b1+'/'+b2+'/'+b3);


         $("#type4<?php echo $n;?>").show();
         $("#type2<?php echo $n;?>").hide();
    });
    $( "#box4<?php echo $n;?>" ).change(function() {
         //$("#type4").hide();
         $('#type3<?php echo $n;?>').hide();
         $("#gencodebtn<?php echo $n;?>").show();
         //$("#type5").show();

    });
    $("#box5<?php echo $n;?>").change(function() {
       //$("#gencodebtn").show();
       //var b5 = $('#box5').val();
    });

    $('#btngenmatcode<?php echo $n;?>').click(function(){
     var b1 = $('#box1<?php echo $n;?>').val();
     var b2 = $('#box2<?php echo $n;?>').val();
     var b3 = $('#box3<?php echo $n;?>').val();
     var b4 = $('#box4<?php echo $n;?>').val();
     var b5 = $('#box5<?php echo $n;?>').val();

     var b6gmatcode = b1+''+b2+''+b3+''+b4;
     $('#matcodeb6<?php echo $n;?>').val(b6gmatcode);
     var url="<?php echo base_url(); ?>index.php/materialcode/getall";
          var dataSet={
            b1: b6gmatcode
            };
            $.post(url,dataSet,function(data){

              $('#matname<?php echo $n;?>').val(data);
              $("#list<?php echo $n;?>").val(data);
              $('#vgencode<?php echo $n;?>').html(data);
            });

    });


    $('#cost1<?php echo $n;?>').load('<?php echo base_url('index.php/materialcode/get_cost_type');?>');
    $( "#cost1<?php echo $n;?>" ).change(function() {

         var c1 = $('#cost1<?php echo $n;?>').val();
         $('#cost2<?php echo $n;?>').load('<?php echo base_url('index.php/materialcode/get_cost_group/');?>'+'/'+c1);
         $("#tabcost2<?php echo $n;?>").show();
       
         $("#costcodetext<?php echo $n;?>").val(c1);
         $('#cost3<?php echo $n;?>').html('');
         $('#cost4<?php echo $n;?>').html('');
         $('#cost5<?php echo $n;?>').html('');
    });
    $( "#cost2<?php echo $n;?>" ).change(function() {
        var c1 = $('#cost1<?php echo $n;?>').val();
        var c2 = $('#cost2<?php echo $n;?>').val();
        var c3 = $('#cost3<?php echo $n;?>').load('<?php echo base_url('index.php/materialcode/get_cost_subgroup/');?>'+'/'+c1+'/'+c2);
         // // $('#cost4<?php echo $n;?>').load('<?php echo base_url('index.php/materialcode/get_cost_subgroupname/');?>'+'/'+c2);
          $("#costcodetext<?php echo $n;?>").val(c1+c2);
         $('#cost4<?php echo $n;?>').html('');
         $('#cost5<?php echo $n;?>').html('');
    });
    $( "#cost3<?php echo $n;?>").change(function() {
        var c1 = $('#cost1<?php echo $n;?>').val();
        var c2 = $('#cost2<?php echo $n;?>').val();
        var c3 = $('#cost3<?php echo $n;?>').val();
        var c4 = $('#cost4<?php echo $n;?>').load('<?php echo base_url('index.php/materialcode/get_cost_subgroup_cost4/');?>'+'/'+c1+'/'+c2+'/'+c3);
         $("#costcodetext<?php echo $n;?>").val(c1+c2+c3);
         $("#cost-control<?php echo $n;?>").show();

         $('#cost5<?php echo $n;?>').html('');


    });
    $( "#cost4<?php echo $n;?>" ).change(function() {
        var c1 = $('#cost1<?php echo $n;?>').val();
        var c2 = $('#cost2<?php echo $n;?>').val();
        var c3 = $('#cost3<?php echo $n;?>').val();
        var c4 = $('#cost4<?php echo $n;?>').val();
        var c5 = $('#cost5<?php echo $n;?>').load('<?php echo base_url('index.php/materialcode/get_cost_subgroup_cost5/');?>'+'/'+c1+'/'+c2+'/'+c3+'/'+c4);
        $("#costcodetext<?php echo $n;?>").val(c1+c2+c3+c4);
        $("#cost-control<?php echo $n;?>").show();
    });

    $( "#cost5<?php echo $n;?>" ).change(function() {
        var c1 = $('#cost1<?php echo $n;?>').val();
        var c2 = $('#cost2<?php echo $n;?>').val();
        var c3 = $('#cost3<?php echo $n;?>').val();
        var c4 = $('#cost4<?php echo $n;?>').val();
        var c5 = $('#cost5<?php echo $n;?>').val();
        $("#costcodetext<?php echo $n;?>").val(c1+c2+c3+c4+c5);
    });


    $("#btncostupppp<?php echo $n;?>").click(function(){
      var c1 = $('#cost1<?php echo $n;?>').val();
     var c2 = $('#cost2<?php echo $n;?>').val();
     var c3 = $('#cost3<?php echo $n;?>').val();
     var c4 = $('#cost4<?php echo $n;?>').val();
     var c5 = $('#cost5<?php echo $n;?>').val();
     if(c2 == undefined){var c2 = ""; }else{var c2 = c2;}
     if(c3 == undefined){var c3 = ""; }else{var c3 = c3;}
     if(c4 == undefined){var c4 = ""; }else{var c4 = c4;}
     if(c5 == undefined){var c5 = ""; }else{var c5 = c5;}
     var url="<?php echo base_url(); ?>costcode/getcostcode"+'/'+c1+'/'+c2+'/'+c3+'/'+c4+'/'+c5;
    var dataSet={
      };
      $.post(url,dataSet,function(data){
     var gcostcode = data;
     var codecostcode = c1+''+c2+''+c3+''+c4+''+c5;
     var type = c1;
     var group = +c2+''+c3+''+c4+''+c5;
     $('#vcostcode<?php echo $n;?>').val(codecostcode);
     $('#list<?php echo $n;?>').val(gcostcode);
     $('#gcostcode<?php echo $n;?>').html(gcostcode);
     $('#costcode<?php echo $n;?>').modal('hide');
     $("#tabcost4<?php echo $n;?>").hide();
     $("#costnameint<?php echo $n; ?>").val(gcostcode);
     $("#codecostcodeint<?php echo $n; ?>").val(codecostcode);
     $("#costname<?php echo $pr_id;?>").val(gcostcode);
     $("#codecostcode<?php echo $pr_id; ?>").val(codecostcode);
     $("#costcodei<?php echo $n;?>").val(codecostcode);
     $("#costname<?php echo $n;?>").val($.trim(gcostcode));
     $("#codecostcode<?php echo $n; ?>").val(codecostcode);
     $("#costname").val(gcostcode);
     $("#type").val(type);
     $("#code_type_1").val(type);
     $("#code_group_1").val(group);
     $("#code_subgroup_1_<?php echo $pr_id; ?>").val(c3);
     $("#codenamecost<?php echo $n;?>").val(`${codecostcode} ${gcostcode}`);
     $("#costcodetexti<?php echo $n;?>").val(codecostcode);
     $("#costnamei<?php echo $n;?>").val(gcostcode);
    $('#lo_costname<?php echo $n; ?>').val(gcostcode);
    $('#lo_costcode<?php echo $n; ?>').val(codecostcode);
    $('#cost_code_<?php echo $n; ?>').val(codecostcode);
     // alert(gcostcode);

      $("#costname<?php echo $kan;?>").val(gcostcode);
     $("#codecostcode<?php echo $kan; ?>").val(codecostcode);

     $('#costnameintt<?php echo $n; ?>').val(gcostcode);
     $('#aa').val(codecostcode);
     $('#bb').val(gcostcode);

     $('#aa<?php echo $n; ?>').val(codecostcode);
     $('#bb<?php echo $n; ?>').val(gcostcode);
     $("#code_type_1<?php echo $n; ?>").val(type);
     $("#code_group_1<?php echo $n; ?>").val(group);
    
    if('<?php echo $kan; ?>'=="1"){
     $("#cccost<?php echo $n;?>").val(codecostcode);
     $('#ccname<?php echo $n; ?>').val(gcostcode);
    }else{
     $("#cccosti<?php echo $n;?>").val(codecostcode);
     $('#ccnamei<?php echo $n; ?>').val(gcostcode);
    }
      });

     
    });


    $("#cost1s<?php echo $n;?>").keyup(function(event) {
    var b1 = $('#cost1s').val();
    $("#cost1<?php echo $n;?>").load('<?php echo base_url('materialcode/getctype_where');?>'+'/'+b1);
   
    });


    $("#cost2s<?php echo $n;?>").keyup(function(event) {
    var c1 = $('#cost1<?php echo $n;?>').val();
    var b2 = $('#cost2s<?php echo $n;?>').val();
    $("#cost2<?php echo $n;?>").load('<?php echo base_url('materialcode/getcsubgroup_where');?>'+'/'+c1+'/'+b2);
    });

    $("#cost3s<?php echo $n;?>").keyup(function(event) {
    var c1 = $('#cost1<?php echo $n;?>').val();
    var c2 = $('#cost2<?php echo $n;?>').val();
    var b3 = $('#cost3s').val();
    $("#cost3<?php echo $n;?>").load('<?php echo base_url('materialcode/getcostcode3_where');?>'+'/'+c1+'/'+c2+'/'+b3);
    });

    $("#cost4s<?php echo $n;?>").keyup(function(event) {
    var c1 = $('#cost1<?php echo $n;?>').val();
    var c2 = $('#cost2<?php echo $n;?>').val();
    var c3 = $('#cost3<?php echo $n;?>').val();
    var b4 = $('#cost4s').val();
    $("#cost4<?php echo $n;?>").load('<?php echo base_url('materialcode/getcostcode4_where');?>'+'/'+c1+'/'+c2+'/'+c3+'/'+b4);
    });

    $("#cost5s<?php echo $n;?>").keyup(function(event) {
    var c1 = $('#cost1<?php echo $n;?>').val();
    var c2 = $('#cost2<?php echo $n;?>').val();
    var c3 = $('#cost3<?php echo $n;?>').val();
    var c4 = $('#cost4<?php echo $n;?>').val();
    var b5 = $('#cost5s').val();
    $("#cost5<?php echo $n;?>").load('<?php echo base_url('materialcode/getcostcode5_where');?>'+'/'+c1+'/'+c2+'/'+c3+'/'+c4+'/'+b5);
    });

//   });
</script>
